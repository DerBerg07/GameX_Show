!function(s){var t={};function e(i){if(t[i])return t[i].exports;var a=t[i]={i:i,l:!1,exports:{}};return s[i].call(a.exports,a,a.exports,e),a.l=!0,a.exports}e.m=s,e.c=t,e.d=function(s,t,i){e.o(s,t)||Object.defineProperty(s,t,{enumerable:!0,get:i})},e.r=function(s){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},e.t=function(s,t){if(1&t&&(s=e(s)),8&t)return s;if(4&t&&"object"==typeof s&&s&&s.__esModule)return s;var i=Object.create(null);if(e.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:s}),2&t&&"string"!=typeof s)for(var a in s)e.d(i,a,function(t){return s[t]}.bind(null,a));return i},e.n=function(s){var t=s&&s.__esModule?function(){return s.default}:function(){return s};return e.d(t,"a",t),t},e.o=function(s,t){return Object.prototype.hasOwnProperty.call(s,t)},e.p="build/",e(e.s=3)}([function(s,t){s.exports=PIXI},function(s){s.exports=JSON.parse('{"numberOfRows":3,"numberOfReels":5,"symbolOffsetX":230,"symbolOffsetY":305,"paylines":[[1,1,1,1,1]],"reelSpeed":1.2345238525,"offsetBetweenReelSpins":8,"spinTime":45,"offsetPerPosition":42,"reels":[[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51],[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51]],"reelData":["2s","2c","2d","2h","3s","3c","3d","3h","4s","4c","4d","4h","5s","5c","5d","5h","6s","6c","6d","6h","7s","7c","7d","7h","8s","8c","8d","8h","9s","9c","9d","9h","Ts","Tc","Td","Th","Js","Jc","Jd","Jh","Qs","Qc","Qd","Qh","Ks","Kc","Kd","Kh","As","Ac","Ad","Ah","2s"],"symbolScale":1}')},function(s,t,e){!function(){"use strict";var s=["1","2","3","4","5","6","7","8","9","T","J","Q","K","A"];class e{constructor(t){this.value=t.substr(0,1),this.suit=t.substr(1,1).toLowerCase(),this.rank=s.indexOf(this.value),this.wildValue=t.substr(0,1)}toString(){return this.wildValue.replace("T","10")+this.suit}static sort(s,t){return s.rank>t.rank?-1:s.rank<t.rank?1:0}}class i{constructor(s,t,i,a){if(this.cardPool=[],this.cards=[],this.suits={},this.values=[],this.wilds=[],this.name=t,this.game=i,this.sfLength=0,this.alwaysQualifies=!0,a&&this.game.lowestQualified&&(this.alwaysQualifies=!1),"standard"===i.descr&&new Set(s).size!==s.length)throw new Error("Duplicate cards");for(var r,n,h,l,d,o=this.game.handValues.length,c=0;c<this.game.handValues.length&&this.game.handValues[c]!==this.constructor;c++);this.rank=o-c,this.cardPool=s.map((function(s){return"string"==typeof s?new e(s):s}));for(c=0;c<this.cardPool.length;c++)(d=this.cardPool[c]).value===this.game.wildValue&&(d.rank=-1);this.cardPool=this.cardPool.sort(e.sort);for(c=0;c<this.cardPool.length;c++)-1===(d=this.cardPool[c]).rank?this.wilds.push(d):((r=this.suits)[h=d.suit]||(r[h]=[]),(n=this.values)[l=d.rank]||(n[l]=[]),this.suits[d.suit].push(d),this.values[d.rank].push(d));this.values.reverse(),this.isPossible=this.solve()}compare(s){if(this.rank<s.rank)return 1;if(this.rank>s.rank)return-1;for(var t=0,e=0;e<=4;e++){if(this.cards[e]&&s.cards[e]&&this.cards[e].rank<s.cards[e].rank){t=1;break}if(this.cards[e]&&s.cards[e]&&this.cards[e].rank>s.cards[e].rank){t=-1;break}}return t}loseTo(s){return this.compare(s)>0}getNumCardsByRank(t){for(var e=this.values[t],i=e?e.length:0,a=0;a<this.wilds.length;a++)this.wilds[a].rank>-1||(e?1!==this.game.wildStatus&&e[0].rank!==s.length-1||(i+=1):1!==this.game.wildStatus&&t!==s.length-1||(i+=1));return i}getCardsForFlush(t,i){for(var a=(this.suits[t]||[]).sort(e.sort),r=0;r<this.wilds.length;r++){var n=this.wilds[r];if(i){for(var h=0;h<s.length&&h<a.length&&a[h].rank===s.length-1-h;)h+=1;n.rank=s.length-1-h,n.wildValue=s[n.rank]}a.push(n),a=a.sort(e.sort)}return a}resetWildCards(){for(var s=0;s<this.wilds.length;s++)this.wilds[s].rank=-1,this.wilds[s].wildValue=this.wilds[s].value}nextHighest(){var t,i=[];if(i=i.concat(this.cards),t=this.cardPool.filter((function(s){if(i.indexOf(s)<0)return!0})),0===this.game.wildStatus){for(var a=0;a<t.length;a++){var r=t[a];-1===r.rank&&(r.wildValue="A",r.rank=s.length-1)}t=t.sort(e.sort)}return t}toString(){return this.cards.map((function(s){return s.toString()})).join(", ")}toArray(){return this.cards.map((function(s){return s.toString()}))}qualifiesHigh(){return!(this.game.lowestQualified&&!this.alwaysQualifies)||this.compare(i.solve(this.game.lowestQualified,this.game))<=0}static winners(s){s=s.filter((function(s){return s.qualifiesHigh()}));var t=Math.max.apply(Math,s.map((function(s){return s.rank})));return s=(s=s.filter((function(s){return s.rank===t}))).filter((function(t){for(var e=!1,i=0;i<s.length&&!(e=t.loseTo(s[i]));i++);return!e}))}static solve(s,t,e){s=s||[""];for(var i=(t="string"==typeof(t=t||"standard")?new H(t):t).handValues,a=null,r=0;r<i.length&&!(a=new i[r](s,t,e)).isPossible;r++);return a}static stripWilds(s,t){var e,i;s=s||[""],e=[],i=[];for(var a=0;a<s.length;a++)-1===s[a].rank?e.push(s[a]):i.push(s[a]);return[e,i]}}class a extends i{constructor(s,t,e){super(s,"Straight Flush",t,e)}solve(){var s;this.resetWildCards();var t=null,e=[];for(var a in this.suits)if((s=this.getCardsForFlush(a,!1))&&s.length>=this.game.sfQualify){t=s;break}if(t){if("standard"!==this.game.descr)for(var a in this.suits)t[0].suit!==a&&(e=e.concat(this.suits[a]||[]),e=i.stripWilds(e,this.game)[1]);var r=new f(t,this.game);r.isPossible&&(this.cards=r.cards,this.cards=this.cards.concat(e),this.sfLength=r.sfLength)}return this.cards[0]&&13===this.cards[0].rank?this.descr="Royal Flush":this.cards.length>=this.game.sfQualify&&(this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+a+" High"),this.cards.length>=this.game.sfQualify}}class r extends a{constructor(s,t,e){super(s,t,e)}solve(){return this.resetWildCards(),super.solve()&&"Royal Flush"===this.descr}}class n extends r{constructor(s,t,e){super(s,t,e)}solve(){var s=0;this.resetWildCards();var t=super.solve();if(t&&this.cards){for(s=0;s<this.game.sfQualify&&s<this.cards.length;s++)if(this.cards[s].value===this.game.wildValue){t=!1,this.descr="Wild Royal Flush";break}s===this.game.sfQualify&&(this.descr="Royal Flush")}return t}}class h extends r{constructor(s,t,e){super(s,t,e)}solve(){var s=0;this.resetWildCards();var t=super.solve();if(t&&this.cards){for(s=0;s<this.game.sfQualify&&s<this.cards.length;s++)if(this.cards[s].value===this.game.wildValue){this.descr="Wild Royal Flush";break}s===this.game.sfQualify&&(t=!1,this.descr="Royal Flush")}return t}}class l extends i{constructor(s,t,e){super(s,"Five of a Kind",t,e)}solve(){this.resetWildCards();for(var t=0;t<this.values.length;t++)if(5===this.getNumCardsByRank(t)){this.cards=this.values[t]||[];for(var e=0;e<this.wilds.length&&this.cards.length<5;e++){var i=this.wilds[e];this.cards?i.rank=this.cards[0].rank:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-5));break}return this.cards.length>=5&&(this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+"'s"),this.cards.length>=5}}class d extends i{constructor(s,t,e){super(s,"Four of a Kind with Pair or Better",t,e)}solve(){var t;this.resetWildCards();for(var e=0;e<this.values.length;e++)if(4===this.getNumCardsByRank(e)){this.cards=this.values[e]||[];for(var i=0;i<this.wilds.length&&this.cards.length<4;i++){var a=this.wilds[i];this.cards?a.rank=this.cards[0].rank:a.rank=s.length-1,a.wildValue=s[a.rank],this.cards.push(a)}break}if(4===this.cards.length)for(e=0;e<this.values.length;e++)if((!(t=this.values[e])||this.cards[0].wildValue!==t[0].wildValue)&&this.getNumCardsByRank(e)>=2){this.cards=this.cards.concat(t||[]);for(i=0;i<this.wilds.length;i++){-1===(a=this.wilds[i]).rank&&(t?a.rank=t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?a.rank=s.length-2:a.rank=s.length-1,a.wildValue=s[a.rank],this.cards.push(a))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-6));break}if(this.cards.length>=6){var r=this.cards[0].toString().slice(0,-1)+"'s over "+this.cards[4].toString().slice(0,-1)+"'s";this.descr=this.name+", "+r}return this.cards.length>=6}}class o extends i{constructor(s,t,e){super(s,"Four of a Kind",t,e)}solve(){this.resetWildCards();for(var t=0;t<this.values.length;t++)if(4===this.getNumCardsByRank(t)){this.cards=this.values[t]||[];for(var e=0;e<this.wilds.length&&this.cards.length<4;e++){var i=this.wilds[e];this.cards?i.rank=this.cards[0].rank:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-4));break}return this.cards.length>=4&&(this.game.noKickers&&(this.cards.length=4),this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+"'s"),this.cards.length>=4}}class c extends i{constructor(s,t,e){super(s,"Four Wild Cards",t,e)}solve(){return 4===this.wilds.length&&(this.cards=this.wilds,this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-4))),this.cards.length>=4&&(this.game.noKickers&&(this.cards.length=4),this.descr=this.name),this.cards.length>=4}}class u extends i{constructor(s,t,e){super(s,"Three of a Kind with Two Pair",t,e)}solve(){this.resetWildCards();for(var t=0;t<this.values.length;t++)if(3===this.getNumCardsByRank(t)){this.cards=this.values[t]||[];for(var e=0;e<this.wilds.length&&this.cards.length<3;e++){var i=this.wilds[e];this.cards?i.rank=this.cards[0].rank:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}break}if(3===this.cards.length)for(t=0;t<this.values.length;t++){var a;if(!(a=this.values[t])||this.cards[0].wildValue!==a[0].wildValue){if(this.cards.length>5&&2===this.getNumCardsByRank(t)){this.cards=this.cards.concat(a||[]);for(e=0;e<this.wilds.length;e++){-1===(i=this.wilds[e]).rank&&(a?i.rank=a[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?i.rank=s.length-2:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-4));break}if(2===this.getNumCardsByRank(t)){this.cards=this.cards.concat(a);for(e=0;e<this.wilds.length;e++){-1===(i=this.wilds[e]).rank&&(a?i.rank=a[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?i.rank=s.length-2:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i))}}}}if(this.cards.length>=7){var r=this.cards[0].toString().slice(0,-1)+"'s over "+this.cards[3].toString().slice(0,-1)+"'s & "+this.cards[5].value+"'s";this.descr=this.name+", "+r}return this.cards.length>=7}}class p extends i{constructor(s,t,e){super(s,"Full House",t,e)}solve(){var t;this.resetWildCards();for(var e=0;e<this.values.length;e++)if(3===this.getNumCardsByRank(e)){this.cards=this.values[e]||[];for(var i=0;i<this.wilds.length&&this.cards.length<3;i++){var a=this.wilds[i];this.cards?a.rank=this.cards[0].rank:a.rank=s.length-1,a.wildValue=s[a.rank],this.cards.push(a)}break}if(3===this.cards.length)for(e=0;e<this.values.length;e++)if((!(t=this.values[e])||this.cards[0].wildValue!==t[0].wildValue)&&this.getNumCardsByRank(e)>=2){this.cards=this.cards.concat(t||[]);for(i=0;i<this.wilds.length;i++){-1===(a=this.wilds[i]).rank&&(t?a.rank=t[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?a.rank=s.length-2:a.rank=s.length-1,a.wildValue=s[a.rank],this.cards.push(a))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-5));break}if(this.cards.length>=5){var r=this.cards[0].toString().slice(0,-1)+"'s over "+this.cards[3].toString().slice(0,-1)+"'s";this.descr=this.name+", "+r}return this.cards.length>=5}}class g extends i{constructor(s,t,e){super(s,"Flush",t,e)}solve(){for(var s in this.sfLength=0,this.resetWildCards(),this.suits){var t=this.getCardsForFlush(s,!0);if(t.length>=this.game.sfQualify){this.cards=t;break}}return this.cards.length>=this.game.sfQualify&&(this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+s+" High",this.sfLength=this.cards.length,this.cards.length<this.game.cardsInHand&&(this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-this.cards.length)))),this.cards.length>=this.game.sfQualify}}class f extends i{constructor(s,t,e){super(s,"Straight",t,e)}solve(){var t,i;if(this.resetWildCards(),1===this.game.wheelStatus){if(this.cards=this.getWheel(),this.cards.length){for(var a=0,r=0;r<this.cards.length;r++)(t=this.cards[r]).value===this.game.wildValue&&(a+=1),0===t.rank&&(t.rank=s.indexOf("A"),t.wildValue="A","1"===t.value&&(t.value="A"));for(this.cards=this.cards.sort(e.sort);a<this.wilds.length&&this.cards.length<this.game.cardsInHand;a++)(t=this.wilds[a]).rank=s.indexOf("A"),t.wildValue="A",this.cards.push(t);return this.descr=this.name+", Wheel",this.sfLength=this.sfQualify,"A"===this.cards[0].value?this.cards=this.cards.concat(this.nextHighest().slice(1,this.game.cardsInHand-this.cards.length+1)):this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-this.cards.length)),!0}this.resetWildCards()}this.cards=this.getGaps();for(r=0;r<this.wilds.length;r++){if(t=this.wilds[r],i=this.getGaps(this.cards.length),this.cards.length===i.length)this.cards[0].rank<s.length-1?(t.rank=this.cards[0].rank+1,t.wildValue=s[t.rank],this.cards.push(t)):(t.rank=this.cards[this.cards.length-1].rank-1,t.wildValue=s[t.rank],this.cards.push(t));else for(var n=1;n<this.cards.length;n++)if(this.cards[n-1].rank-this.cards[n].rank>1){t.rank=this.cards[n-1].rank-1,t.wildValue=s[t.rank],this.cards.push(t);break}this.cards=this.cards.sort(e.sort)}return this.cards.length>=this.game.sfQualify&&(this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+" High",this.cards=this.cards.slice(0,this.game.cardsInHand),this.sfLength=this.cards.length,this.cards.length<this.game.cardsInHand&&(0===this.cards[this.sfLength-1].rank?this.cards=this.cards.concat(this.nextHighest().slice(1,this.game.cardsInHand-this.cards.length+1)):this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-this.cards.length)))),this.cards.length>=this.game.sfQualify}getGaps(t){var a,r,n,h,l,d,o,c,u,p=i.stripWilds(this.cardPool,this.game);for(a=p[0],r=p[1],n=0;n<r.length;n++)"A"===(h=r[n]).wildValue&&r.push(new e("1"+h.suit));for(r=r.sort(e.sort),t?n=r[0].rank+1:(t=this.game.sfQualify,n=s.length),l=[];n>0;n--){d=[],o=0;for(var g=0;g<r.length;g++)if(!((h=r[g]).rank>n))if(null===(u=(c=d[d.length-1])?c.rank-h.rank:n-h.rank))d.push(h);else{if(t<o+u+d.length)break;u>0&&(d.push(h),o+=u-1)}if(d.length>l.length&&(l=d.slice()),this.game.sfQualify-l.length<=a.length)break}return l}getWheel(){var t,a,r,n,h,l,d,o=i.stripWilds(this.cardPool,this.game);for(t=o[0],a=o[1],r=0;r<a.length;r++)"A"===(n=a[r]).wildValue&&a.push(new e("1"+n.suit));for(a=a.sort(e.sort),h=[],l=0,r=this.game.sfQualify-1;r>=0;r--){d=!1;for(var c=0;c<a.length;c++)if(!((n=a[c]).rank>r)){if(n.rank<r)break;h.push(n),d=!0;break}if(!d){if(!(l<t.length))return[];t[l].rank=r,t[l].wildValue=s[r],h.push(t[l]),l+=1}}return h}}class w extends i{constructor(s,t,e){super(s,"Two Three Of a Kind",t,e)}solve(){this.resetWildCards();for(var t=0;t<this.values.length;t++){var e=this.values[t];if(this.cards.length>0&&3===this.getNumCardsByRank(t)){this.cards=this.cards.concat(e||[]);for(var i=0;i<this.wilds.length;i++){-1===(a=this.wilds[i]).rank&&(e?a.rank=e[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?a.rank=s.length-2:a.rank=s.length-1,a.wildValue=s[a.rank],this.cards.push(a))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-6));break}if(3===this.getNumCardsByRank(t)){this.cards=this.cards.concat(e);for(i=0;i<this.wilds.length;i++){var a;-1===(a=this.wilds[i]).rank&&(e?a.rank=e[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?a.rank=s.length-2:a.rank=s.length-1,a.wildValue=s[a.rank],this.cards.push(a))}}}if(this.cards.length>=6){var r=this.cards[0].toString().slice(0,-1)+"'s & "+this.cards[3].toString().slice(0,-1)+"'s";this.descr=this.name+", "+r}return this.cards.length>=6}}class k extends i{constructor(s,t,e){super(s,"Three of a Kind",t,e)}solve(){this.resetWildCards();for(var t=0;t<this.values.length;t++)if(3===this.getNumCardsByRank(t)){this.cards=this.values[t]||[];for(var e=0;e<this.wilds.length&&this.cards.length<3;e++){var i=this.wilds[e];this.cards?i.rank=this.cards[0].rank:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-3));break}return this.cards.length>=3&&(this.game.noKickers&&(this.cards.length=3),this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+"'s"),this.cards.length>=3}}class b extends i{constructor(s,t,e){super(s,"Three Pair",t,e)}solve(){this.resetWildCards();for(var t=0;t<this.values.length;t++){var e=this.values[t];if(this.cards.length>2&&2===this.getNumCardsByRank(t)){this.cards=this.cards.concat(e||[]);for(var i=0;i<this.wilds.length;i++){-1===(a=this.wilds[i]).rank&&(e?a.rank=e[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?a.rank=s.length-2:a.rank=s.length-1,a.wildValue=s[a.rank],this.cards.push(a))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-6));break}if(this.cards.length>0&&2===this.getNumCardsByRank(t)){this.cards=this.cards.concat(e||[]);for(i=0;i<this.wilds.length;i++){-1===(a=this.wilds[i]).rank&&(e?a.rank=e[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?a.rank=s.length-2:a.rank=s.length-1,a.wildValue=s[a.rank],this.cards.push(a))}}else if(2===this.getNumCardsByRank(t)){this.cards=this.cards.concat(e);for(i=0;i<this.wilds.length;i++){var a;-1===(a=this.wilds[i]).rank&&(e?a.rank=e[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?a.rank=s.length-2:a.rank=s.length-1,a.wildValue=s[a.rank],this.cards.push(a))}}}if(this.cards.length>=6){var r=this.cards[0].toString().slice(0,-1)+"'s & "+this.cards[2].toString().slice(0,-1)+"'s & "+this.cards[4].toString().slice(0,-1)+"'s";this.descr=this.name+", "+r}return this.cards.length>=6}}class m extends i{constructor(s,t,e){super(s,"Two Pair",t,e)}solve(){this.resetWildCards();for(var t=0;t<this.values.length;t++){var e=this.values[t];if(this.cards.length>0&&2===this.getNumCardsByRank(t)){this.cards=this.cards.concat(e||[]);for(var i=0;i<this.wilds.length;i++){-1===(a=this.wilds[i]).rank&&(e?a.rank=e[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?a.rank=s.length-2:a.rank=s.length-1,a.wildValue=s[a.rank],this.cards.push(a))}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-4));break}if(2===this.getNumCardsByRank(t)){this.cards=this.cards.concat(e);for(i=0;i<this.wilds.length;i++){var a;-1===(a=this.wilds[i]).rank&&(e?a.rank=e[0].rank:this.cards[0].rank===s.length-1&&1===this.game.wildStatus?a.rank=s.length-2:a.rank=s.length-1,a.wildValue=s[a.rank],this.cards.push(a))}}}if(this.cards.length>=4){this.game.noKickers&&(this.cards.length=4);var r=this.cards[0].toString().slice(0,-1)+"'s & "+this.cards[2].toString().slice(0,-1)+"'s";this.descr=this.name+", "+r}return this.cards.length>=4}}class y extends i{constructor(s,t,e){super(s,"Pair",t,e)}solve(){this.resetWildCards();for(var t=0;t<this.values.length;t++)if(2===this.getNumCardsByRank(t)){this.cards=this.cards.concat(this.values[t]||[]);for(var e=0;e<this.wilds.length&&this.cards.length<2;e++){var i=this.wilds[e];this.cards?i.rank=this.cards[0].rank:i.rank=s.length-1,i.wildValue=s[i.rank],this.cards.push(i)}this.cards=this.cards.concat(this.nextHighest().slice(0,this.game.cardsInHand-2));break}return this.cards.length>=2&&(this.game.noKickers&&(this.cards.length=2),this.descr=this.name+", "+this.cards[0].toString().slice(0,-1)+"'s"),this.cards.length>=2}}class S extends i{constructor(s,t,e){super(s,"High Card",t,e)}solve(){this.cards=this.cardPool.slice(0,this.game.cardsInHand);for(var t=0;t<this.cards.length;t++){this.cards[t];this.cards[t].value===this.game.wildValue&&(this.cards[t].wildValue="A",this.cards[t].rank=s.indexOf("A"))}return this.game.noKickers&&(this.cards.length=1),this.cards=this.cards.sort(e.sort),this.descr=this.cards[0].toString().slice(0,-1)+" High",!0}}class v{constructor(s){this.baseHand=null,this.hiHand=null,this.loHand=null,this.game=null,this.loGame=new H("paigowpokerlo"),this.hiGame=new H("paigowpokerhi"),Array.isArray(s)?this.baseHand=i.solve(s,new H("paigowpokerfull")):this.baseHand=s,this.game=this.baseHand.game}splitHouseWay(){var t,e,r=this.game.handValues.length-this.baseHand.rank,n=this.game.handValues[r];if(n===l)"K"===this.baseHand.cards[5].value&&"K"===this.baseHand.cards[6].value?(e=this.baseHand.cards.slice(5,7),t=this.baseHand.cards.slice(0,5)):(e=this.baseHand.cards.slice(0,2),t=this.baseHand.cards.slice(2,7));else if(n===d)"A"===this.baseHand.cards[0].wildValue&&"K"!==this.baseHand.cards[4].value?(t=this.baseHand.cards.slice(0,2),e=this.baseHand.cards.slice(2,4),t=t.concat(this.baseHand.cards.slice(4,7))):(t=this.baseHand.cards.slice(0,4),e=this.baseHand.cards.slice(4,6),t.push(this.baseHand.cards[6]));else if(n===a||n===g||n===f){var h,c=new H("paigowpokeralt"),S=i.solve(this.baseHand.cards,c),v=c.handValues.length-S.rank;if(c.handValues[v]===o)t=(h=this.getSFData(S.cards))[0],e=h[1];else if(c.handValues[v]===p)t=S.cards.slice(0,3),e=S.cards.slice(3,5),t=t.concat(S.cards.slice(5,7));else if(c.handValues[v]===k)t=(h=this.getSFData(S.cards))[0],e=h[1];else if(c.handValues[v]===b)e=S.cards.slice(0,2),t=S.cards.slice(2,7);else if(c.handValues[v]===m)S.cards[0].rank<6?"A"===S.cards[4].wildValue?(t=S.cards.slice(0,4),e=S.cards.slice(4,6),t.push(S.cards[6])):(t=(h=this.getSFData(S.cards))[0],e=h[1]):S.cards[0].rank<10?"A"===S.cards[4].wildValue?(t=S.cards.slice(0,4),e=S.cards.slice(4,6),t.push(S.cards[6])):(t=S.cards.slice(0,2),e=S.cards.slice(2,4),t=t.concat(S.cards.slice(4,7))):"A"!==S.cards[0].wildValue&&S.cards[2].rank<6&&"A"===S.cards[4].wildValue?(t=S.cards.slice(0,4),e=S.cards.slice(4,6),t.push(S.cards[6])):(t=S.cards.slice(0,2),e=S.cards.slice(2,4),t=t.concat(S.cards.slice(4,7)));else if(c.handValues[v]===y)if(S.cards[0].rank>=s.indexOf("T")&&S.cards[0].rank<=s.indexOf("K")&&"A"===S.cards[2].wildValue){var x=S.cards.slice(0,2);x=x.concat(S.cards.slice(3,7)),(h=this.getSFData(x))[0]?(t=h[0],(e=h[1]).push(S.cards[2])):(t=S.cards.slice(0,2),e=S.cards.slice(2,4),t=t.concat(S.cards.slice(4,7)))}else(h=this.getSFData(S.cards.slice(2,7)))[0]?(t=h[0],e=S.cards.slice(0,2)):(t=(h=this.getSFData(S.cards))[0],e=h[1]);else t=(h=this.getSFData(S.cards))[0],e=h[1]}else n===o?this.baseHand.cards[0].rank<6||this.baseHand.cards[0].rank<10&&"A"===this.baseHand.cards[4].wildValue?(t=this.baseHand.cards.slice(0,4),e=this.baseHand.cards.slice(4,6),t.push(this.baseHand.cards[6])):(t=this.baseHand.cards.slice(0,2),e=this.baseHand.cards.slice(2,4),t=t.concat(this.baseHand.cards.slice(4,7))):n===w?(e=this.baseHand.cards.slice(0,2),(t=this.baseHand.cards.slice(3,6)).push(this.baseHand.cards[2]),t.push(this.baseHand.cards[6])):n===u?(t=this.baseHand.cards.slice(0,3),e=this.baseHand.cards.slice(3,5),t=t.concat(this.baseHand.cards.slice(5,7))):n===p?"2"===this.baseHand.cards[3].wildValue&&"A"===this.baseHand.cards[5].wildValue&&"K"===this.baseHand.cards[6].wildValue?(t=this.baseHand.cards.slice(0,5),e=this.baseHand.cards.slice(5,7)):(t=this.baseHand.cards.slice(0,3),e=this.baseHand.cards.slice(3,5),t=t.concat(this.baseHand.cards.slice(5,7))):n===k?"A"===this.baseHand.cards[0].wildValue?(t=this.baseHand.cards.slice(0,2),e=this.baseHand.cards.slice(2,4),t=t.concat(this.baseHand.cards.slice(4,7))):(t=this.baseHand.cards.slice(0,3),e=this.baseHand.cards.slice(3,5),t=t.concat(this.baseHand.cards.slice(5,7))):n===b?(e=this.baseHand.cards.slice(0,2),t=this.baseHand.cards.slice(2,7)):n===m?this.baseHand.cards[0].rank<6?(t=this.baseHand.cards.slice(0,4),e=this.baseHand.cards.slice(4,6),t.push(this.baseHand.cards[6])):this.baseHand.cards[0].rank<10?"A"===this.baseHand.cards[4].wildValue?(t=this.baseHand.cards.slice(0,4),e=this.baseHand.cards.slice(4,6),t.push(this.baseHand.cards[6])):(t=this.baseHand.cards.slice(0,2),e=this.baseHand.cards.slice(2,4),t=t.concat(this.baseHand.cards.slice(4,7))):"A"!==this.baseHand.cards[0].wildValue&&this.baseHand.cards[2].rank<6&&"A"===this.baseHand.cards[4].wildValue?(t=this.baseHand.cards.slice(0,4),e=this.baseHand.cards.slice(4,6),t.push(this.baseHand.cards[6])):(t=this.baseHand.cards.slice(0,2),e=this.baseHand.cards.slice(2,4),t=t.concat(this.baseHand.cards.slice(4,7))):n===y?(t=this.baseHand.cards.slice(0,2),e=this.baseHand.cards.slice(2,4),t=t.concat(this.baseHand.cards.slice(4,7))):(t=[this.baseHand.cards[0]],e=this.baseHand.cards.slice(1,3),t=t.concat(this.baseHand.cards.slice(3,7)));this.hiHand=i.solve(t,this.hiGame),this.loHand=i.solve(e,this.loGame)}getSFData(s){for(var t,i,r,n,h=[new a(s,new H("paigowpokersf7")),new a(s,new H("paigowpokersf6")),new a(s,this.game),new g(s,new H("paigowpokersf7")),new g(s,new H("paigowpokersf6")),new g(s,this.game),new f(s,new H("paigowpokersf7")),new f(s,new H("paigowpokersf6")),new f(s,this.game)],l=0;l<h.length;l++){var d=h[l];if(d.isPossible)if(7===d.sfLength?i=[d.cards[0],d.cards[1]]:6===d.sfLength?(i=[d.cards[0]],s.length>6&&i.push(d.cards[6])):s.length>5&&(i=[d.cards[5]],s.length>6&&i.push(d.cards[6])),i)i=i.sort(e.sort),(!r||r[0].rank<i[0].rank||r.length>1&&r[0].rank===i[0].rank&&r[1].rank<i[1].rank)&&(r=i,n=d);else if(!n){n=d;break}}return n&&(t=7===n.sfLength?n.cards.slice(2,7):6===n.sfLength?n.cards.slice(1,6):n.cards.slice(0,5)),[t,r]}qualifiesValid(){var s=i.winners([this.hiHand,this.loHand]);return!(1===s.length&&s[0]===this.loHand)}static winners(s,t){if(!s.qualifiesValid())return t.qualifiesValid()?-1:0;if(!t.qualifiesValid())return 1;var e=i.winners([s.hiHand,t.hiHand]),a=i.winners([s.loHand,t.loHand]);return 1===e.length&&e[0]===s.hiHand?1===a.length&&a[0]===s.loHand?1:0:1===a.length&&a[0]===s.loHand?0:-1}static setHands(s,t){var e=[];Array.isArray(s)&&(s=i.solve(s,new H("paigowpokerhi"))),e=e.concat(s.cardPool),Array.isArray(t)&&(t=i.solve(t,new H("paigowpokerlo"))),e=e.concat(t.cardPool);var a=new v(e);return a.hiHand=s,a.loHand=t,a}static solve(s){var t=new v(s=s||[""]);return t.splitHouseWay(),t}}var x={standard:{cardsInHand:5,handValues:[a,o,p,g,f,k,m,y,S],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:5,lowestQualified:null,noKickers:!1},jacksbetter:{cardsInHand:5,handValues:[a,o,p,g,f,k,m,y,S],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:5,lowestQualified:["Jc","Jd","4h","3s","2c"],noKickers:!0},joker:{cardsInHand:5,handValues:[n,l,h,a,o,p,g,f,k,m,S],wildValue:"O",wildStatus:1,wheelStatus:0,sfQualify:5,lowestQualified:["4c","3d","3h","2s","2c"],noKickers:!0},deuceswild:{cardsInHand:5,handValues:[n,c,h,l,a,o,p,g,f,k,S],wildValue:"2",wildStatus:1,wheelStatus:0,sfQualify:5,lowestQualified:["5c","4d","3h","3s","3c"],noKickers:!0},threecard:{cardsInHand:3,handValues:[a,k,f,g,y,S],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:3,lowestQualified:["Qh","3s","2c"],noKickers:!1},fourcard:{cardsInHand:4,handValues:[o,a,k,g,f,m,y,S],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:4,lowestQualified:null,noKickers:!0},fourcardbonus:{cardsInHand:4,handValues:[o,a,k,g,f,m,y,S],wildValue:null,wildStatus:1,wheelStatus:0,sfQualify:4,lowestQualified:["Ac","Ad","3h","2s"],noKickers:!0},paigowpokerfull:{cardsInHand:7,handValues:[l,d,a,g,f,o,w,u,p,k,b,m,y,S],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:5,lowestQualified:null},paigowpokeralt:{cardsInHand:7,handValues:[o,p,k,b,m,y,S],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:5,lowestQualified:null},paigowpokersf6:{cardsInHand:7,handValues:[a,g,f],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:6,lowestQualified:null},paigowpokersf7:{cardsInHand:7,handValues:[a,g,f],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:7,lowestQualified:null},paigowpokerhi:{cardsInHand:5,handValues:[l,a,o,p,g,f,k,m,y,S],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:5,lowestQualified:null},paigowpokerlo:{cardsInHand:2,handValues:[y,S],wildValue:"O",wildStatus:0,wheelStatus:1,sfQualify:5,lowestQualified:null}};class H{constructor(s){this.descr=s,this.cardsInHand=0,this.handValues=[],this.wildValue=null,this.wildStatus=0,this.wheelStatus=0,this.sfQualify=5,this.lowestQualified=null,this.noKickers=null,this.descr&&x[this.descr]||(this.descr="standard"),this.cardsInHand=x[this.descr].cardsInHand,this.handValues=x[this.descr].handValues,this.wildValue=x[this.descr].wildValue,this.wildStatus=x[this.descr].wildStatus,this.wheelStatus=x[this.descr].wheelStatus,this.sfQualify=x[this.descr].sfQualify,this.lowestQualified=x[this.descr].lowestQualified,this.noKickers=x[this.descr].noKickers}}function _(s){s.Card=e,s.Hand=i,s.Game=H,s.RoyalFlush=r,s.NaturalRoyalFlush=n,s.WildRoyalFlush=h,s.FiveOfAKind=l,s.StraightFlush=a,s.FourOfAKindPairPlus=d,s.FourOfAKind=o,s.FourWilds=c,s.TwoThreeOfAKind=w,s.ThreeOfAKindTwoPair=u,s.FullHouse=p,s.Flush=g,s.Straight=f,s.ThreeOfAKind=k,s.ThreePair=b,s.TwoPair=m,s.OnePair=y,s.HighCard=S,s.PaiGowPokerHelper=v}_(t),"undefined"!=typeof window&&_(window)}()},function(s,t,e){"use strict";e.r(t);var i=e(0),a=e(1);class r{constructor(s,t,e,r){this.position=0,this.symbolSprites=[],this.tweenReel=()=>{this.reelContainer.y=this.position*a.symbolOffsetY},this.app=s,this.reelContainer=t,this.symbols=e,this.symbolTextures=r,this.reelLength=e.length;for(let s=0;s<e.length;s++){const t=e[s],n=new i.Sprite(r[t]);n.anchor.set(.5,0),n.scale.set(a.symbolScale,a.symbolScale),this.symbolSprites[s]=n,this.reelContainer.addChildAt(n,0),n.y=-(s-2)*a.symbolOffsetY}for(let s=0;s<a.numberOfRows-1;s++){const t=e[s],n=new i.Sprite(r[t]);n.anchor.set(.5,0),n.scale.set(a.symbolScale,a.symbolScale),this.symbolSprites.push(n),this.reelContainer.addChildAt(n,0),n.y=-(this.symbols.length+s-2)*a.symbolOffsetY}s.ticker.add(this.tweenReel)}}class n{constructor(s,t,e){this.reels=[],this.reelContainers=[],this.slotMachineMask=new i.Graphics,this.tweeningReels=[],this.setupSlotMachineMask=()=>{const s=a.symbolOffsetX*(a.numberOfReels+2);this.slotMachineMask.beginFill(16777215),this.slotMachineMask.drawRect(-a.symbolOffsetX,68,s,698),this.slotMachineMask.endFill(),this.slotMachineContainer.addChild(this.slotMachineMask),this.slotMachineContainer.mask=this.slotMachineMask},this.tweenReels=s=>{const t=[];for(const e of this.tweeningReels){const i=e.reel.reelLength;if(e.timer<e.spinTime){const s=a.reelSpeed*e.timer;e.reel.position=e.startPos+s}else t.push(e),e.reel.position=e.targetPos,e.isLast&&document.body.dispatchEvent(this.spinEndEvent);for(;e.reel.position<0;)e.reel.position+=i;for(;e.reel.position>=i;)e.reel.position-=i;e.timer+=s}for(const s of t)this.tweeningReels.splice(this.tweeningReels.indexOf(s),1)},this.onSpinStartEvent=()=>{const s=this.generateSpinResult();this.spinEndEvent.detail.spinResult=s;for(let t=0;t<a.numberOfReels;t++){let e=!1;t===a.numberOfReels-1&&(e=!0);const i={reelIndex:t,reel:this.reels[t],startPos:this.reels[t].position,targetPos:s[t],timer:0-t*a.offsetBetweenReelSpins,spinTime:a.spinTime,isLast:e};this.tweeningReels.push(i)}this.app.ticker.add(this.tweenReels)},this.onSpinEndEvent=()=>{this.app.ticker.remove(this.tweenReels)},this.generateSpinResult=()=>{const s=[];for(let t=0;t<a.numberOfReels;t++){let e=Math.floor(Math.random()*a.reels[t].length);for(;void 0!==s.find(s=>s==e);)e=Math.floor(Math.random()*a.reels[t].length);s[t]=e}return s},this.app=s,this.spinEndEvent=e,this.slotMachineContainer=t,document.body.addEventListener("spinStart",this.onSpinStartEvent),document.body.addEventListener("spinEnd",this.onSpinEndEvent),this.symbolTextures=s.loader.resources["assets/slot_screen/symbols.json"].textures;for(let t=0;t<a.numberOfReels;t++){const e=new i.Container;e.x=t*a.symbolOffsetX,this.reelContainers.push(e),this.slotMachineContainer.addChild(e);const n=new r(s,e,a.reels[t],this.symbolTextures);this.reels[t]=n}this.setupSlotMachineMask()}}class h{constructor(s){this.timer=0,this.play_animation=()=>{this.app.ticker.add(this.animationFunction,this)},this.animationFunction=s=>{if(this.timer+=s,this.timer>=this.length){for(const s of this.samplers)this.container[s.property][s.property_of_property]=s.outputs[s.outputs.length-1];this.timer=0,this.app.ticker.remove(this.animationFunction,this)}else for(const s of this.samplers)if(this.timer>=s.inputs[s.inputs.length-1])this.container[s.property][s.property_of_property]=s.outputs[s.outputs.length-1];else{let t=0;for(let e=0;e<s.inputs.length&&this.timer>s.inputs[e];e++)t=e;const e=s.inputs[t+1]-s.inputs[t],i=(this.timer-s.inputs[t])/e;this.container[s.property][s.property_of_property]=s.outputs[t]+(s.outputs[t+1]-s.outputs[t])*i}},this.app=s.app,this.container=s.container,this.length=s.length,s.onEnd&&(this.onEnd=s.onEnd),this.samplers=s.samplers}}const l=e(2).Hand;class d{constructor(s,t){this.balance=60,this.current_win=0,this.possible_wins=["High Card","One Pair","Two Pairs","Three of a Kind","Straight","Flush","Full House","Four of a Kind","Straight Flush","Royal Flush"],this.bet_values=[1,2,3],this.current_bet_index=0,this.paytable=[20,50,100,200,400,800,1600,3200,6400,12800],this.isSpinButtonPressed=!1,this.onSpinStart=()=>{this.balance-=this.bet_values[this.current_bet_index],this.balance_text.text=this.balance+"/60",this.bet_text.interactive=!1,this.bet_text.cursor="default"},this.onSpinEnd=s=>{const t=[];s.detail.spinResult.map(s=>{t.push(a.reelData[s+1])});const e=l.solve(t),i=this.bet_values[this.current_bet_index];9==e.rank?"Royal Flush"==e.descr?(this.current_win=i*this.paytable[9],this.win_title_text.text=this.possible_wins[9]):(this.current_win=i*this.paytable[8],this.win_title_text.text=this.possible_wins[8]):(this.current_win=i*this.paytable[e.rank-1],this.win_title_text.text=this.possible_wins[e.rank-1]),this.total_win_text.text="$"+this.current_win.toLocaleString("en-US"),this.mainData.coins+=this.current_win,this.isSpinButtonPressed?this.balance>=this.bet_values[this.current_bet_index]?(document.body.dispatchEvent(this.spinStartEvent),this.onSpinStart()):(this.spin_button.interactive=!0,this.spin_button.cursor="pointer",this.bet_text.interactive=!0,this.bet_text.cursor="pointer",console.error("Not enough spins!")):(this.spin_button.interactive=!0,this.spin_button.cursor="pointer",this.bet_text.interactive=!0,this.bet_text.cursor="pointer")},this.mainData=s,this.app=t,this.container=new i.Container,t.stage.addChild(this.container);const e=new i.Sprite(t.loader.resources["assets/slot_screen/bg.png"].texture);this.container.addChild(e);const r=new i.Sprite(t.loader.resources["assets/slot_screen/slot_machine.png"].texture);r.position.set(56,1031),this.container.addChild(r),this.spinStartEvent=new Event("spinStart");const d=new CustomEvent("spinEnd",{detail:{spinResult:[]}});this.spin_button=new i.Sprite(t.loader.resources["assets/slot_screen/spin.png"].texture),this.spin_button.anchor.set(.5,.5),this.spin_button.position.set(720.5,2614.5),this.spin_button.interactive=!0,this.spin_button.cursor="pointer";const o={app:this.app,container:this.spin_button,length:30,samplers:[{property:"scale",property_of_property:"x",inputs:[0,15],outputs:[1,.9]},{property:"scale",property_of_property:"y",inputs:[0,15],outputs:[1,.9]},{property:"position",property_of_property:"y",inputs:[0,15],outputs:[2614.5,2624.5]}]},c=new h(o),u={app:this.app,container:this.spin_button,length:30,samplers:[{property:"scale",property_of_property:"x",inputs:[0,15],outputs:[.9,1]},{property:"scale",property_of_property:"y",inputs:[0,15],outputs:[.9,1]},{property:"position",property_of_property:"y",inputs:[0,15],outputs:[2624.5,2614.5]}]},p=new h(u);this.spin_button.on("pointerdown",()=>{this.isSpinButtonPressed=!0,this.balance>=this.bet_values[this.current_bet_index]?(document.body.dispatchEvent(this.spinStartEvent),this.onSpinStart(),c.play_animation()):console.error("Not enough spins!")}),this.spin_button.on("pointerup",()=>{this.isSpinButtonPressed&&(p.play_animation(),this.spin_button.interactive=!1,this.spin_button.cursor="default"),this.isSpinButtonPressed=!1}),this.spin_button.on("pointerupoutside",()=>{this.isSpinButtonPressed&&(p.play_animation(),this.spin_button.interactive=!1,this.spin_button.cursor="default"),this.isSpinButtonPressed=!1}),this.container.addChild(this.spin_button);const g=new i.Container;g.x=720-a.symbolOffsetX*(a.numberOfReels-1)/2,g.y=1650-a.symbolOffsetY*(a.numberOfRows-1)/2,this.container.addChild(g),new n(t,g,d);const f=new i.Sprite(t.loader.resources["assets/slot_screen/overlay.png"].texture);f.position.set(137,1414),this.container.addChild(f),this.total_win_text=new i.Text("",new i.TextStyle({fontFamily:"FFSuhmoPro-Black",fontWeight:"bolder",fontSize:104,fill:16711605})),this.total_win_text.text="$"+(0).toLocaleString("en-US"),this.total_win_text.anchor.set(.5,.5),this.total_win_text.position.set(720,1150),this.container.addChild(this.total_win_text),this.win_title_text=new i.Text("",new i.TextStyle({fontFamily:"FFSuhmoPro-Black",fontWeight:"bolder",fontSize:64,fill:3434003})),this.win_title_text.anchor.set(.5,.5),this.win_title_text.position.set(720,1330),this.container.addChild(this.win_title_text),this.balance_text=new i.Text(this.balance+"/60",new i.TextStyle({fontFamily:"FFSuhmoPro-Black",fontWeight:"bolder",fontSize:64,fill:16777215})),this.balance_text.anchor.set(.5,.5),this.balance_text.position.set(720,2280),this.container.addChild(this.balance_text);const w=new i.Text("+24 spins",new i.TextStyle({fontFamily:"FFSuhmoPro-Black",fontWeight:"bolder",fontSize:56,fill:2768706}));w.anchor.set(.5,.5),w.position.set(720,2365),this.container.addChild(w),this.bet_text=new i.Text("Bet x1",new i.TextStyle({fontFamily:"FFSuhmoPro-Black",fontWeight:"bolder",fontSize:56,fill:6631455})),this.bet_text.anchor.set(.5,.5),this.bet_text.position.set(720,2170),this.bet_text.interactive=!0,this.bet_text.cursor="pointer",this.bet_text.on("pointerdown",()=>{this.current_bet_index++,this.current_bet_index=this.current_bet_index%this.bet_values.length,this.bet_text.text="Bet x"+this.bet_values[this.current_bet_index]}),this.container.addChild(this.bet_text);const k=new i.Sprite(t.loader.resources["assets/slot_screen/hammer.png"].texture);k.anchor.set(.5,.5),k.position.set(63+k.width/2,2915+k.height/2),k.interactive=!0,k.cursor="pointer";const b={app:this.app,container:k,length:30,samplers:[{property:"scale",property_of_property:"x",inputs:[0,15,30],outputs:[1,.9,1]},{property:"scale",property_of_property:"y",inputs:[0,15,30],outputs:[1,.9,1]}]},m=new h(b);k.on("pointerdown",()=>{m.play_animation()}),this.container.addChild(k);const y=new i.Sprite(t.loader.resources["assets/slot_screen/menu.png"].texture);y.anchor.set(.5,.5),y.position.set(1165+y.width/2,2915+y.height/2),y.interactive=!0,y.cursor="pointer";const S={app:this.app,container:y,length:30,samplers:[{property:"scale",property_of_property:"x",inputs:[0,15,30],outputs:[1,.9,1]},{property:"scale",property_of_property:"y",inputs:[0,15,30],outputs:[1,.9,1]}]},v=new h(S);y.on("pointerdown",()=>{v.play_animation()}),this.container.addChild(y),document.body.addEventListener("spinEnd",this.onSpinEnd)}}class o{constructor(s,t){this.mainData=s,this.app=t,this.container=new i.Container,this.resources=this.app.loader.resources,this.buysArr=[0,0,0,0,0],this.prices=[100,200,300,400,700],this.background=this.CreateBackground(),this.board=this.CreateBoard(),this.caffee=this.CreateCaffee(),this.bottomButtons=this.CreateBottomButtons(),this.starContainer=new i.Container,this.stars=this.CreateStars(),this.dllarsPerHour=0,this.dollarsPerHourText=this.CreateDollarsPerHourText(),this.init()}init(){this.app.stage.addChild(this.container)}CreateBackground(){let s=new i.Sprite(this.resources.bBackground.texture);return s.height=this.app.view.height,s.width=this.app.view.width,this.container.addChild(s),s}CreateBoard(){let s=new i.Container,t=new i.Sprite(this.resources.bBoard.texture),e=new i.Sprite(this.resources.caffee_house_banner.texture);return t.x+=this.background.width/2-t.width/2,t.y+=420,e.x+=153,e.y+=293,s.addChild(t,e),this.container.addChild(s),s}CreateBottomButtons(){let s=[],t=new i.TextStyle({fontFamily:"FFSuhmoPro-Black",fontSize:52,fill:684985}),e=new i.TextStyle({fontFamily:"FFSuhmoPro-Black",fontSize:52,fill:12272128,stroke:16777215,strokeThickness:4}),a=new i.Container,r=new i.Sprite(this.resources["icon-coffee"].texture),n=new i.Text("",t),h=new i.Text("",e);a.addChild(r,n,h);let l=new i.Container,d=new i.Sprite(this.resources["icon-clients"].texture),o=new i.Text("",t),c=new i.Text("",e);l.addChild(d,o,c);let u=new i.Container,p=new i.Sprite(this.resources["icon-flower"].texture),g=new i.Text("",t),f=new i.Text("",e);u.addChild(p,g,f);let w=new i.Container,k=new i.Sprite(this.resources["icon-media"].texture),b=new i.Text("",t),m=new i.Text("",e);w.addChild(k,b,m);let y=new i.Container,S=new i.Sprite(this.resources["icon-power"].texture),v=new i.Text("",t),x=new i.Text("",e);return y.addChild(S,v,x),s.push(a,l,u,w,y),s.forEach((s,t)=>{s.y=2610+s.children[0].texture.height/2,s.x=10+280*t+s.children[0].texture.width/2,s.children[1].text=this.buysArr[t]+"/5",s.children[1].x=179,s.children[1].y=26,s.children[2].text=this.prices[this.buysArr[t]],s.children[2].x=s.children[0].texture.width/2-s.children[2].width/2,s.children[2].y=283,s.pivot.set(s.children[0].texture.width/2,s.children[0].texture.height/2),s.children[0].interactive=!0,s.children[0].on("pointerdown",()=>{this.onBuy(t)}),this.container.addChild(s)}),s}CreateCaffee(){let s=new i.Sprite(this.resources.caffee.texture);return s.x+=15,s.y+=1552,this.container.addChild(s),s}CreateStars(){let s=[];for(let t=0;t<5;t++){s.push([]);for(let e=0;e<5;e++){let a=new i.Sprite(this.resources["eStar"+(e+1)].texture);switch(s[t][e]=a,e){case 0:a.x=220+210*t,a.y=868;break;case 1:a.x=240+205*t,a.y=1020;break;case 2:a.x=260+200*t,a.y=1160;break;case 3:a.x=270+198*t,a.y=1290;break;case 4:a.x=280+194*t,a.y=1415}this.starContainer.addChild(s[t][e])}}return this.container.addChild(this.starContainer),s}CreateDollarsPerHourText(){let s=new i.TextStyle({fontFamily:"Roboto-Black",fontSize:64,fill:16773792,stroke:5971713,strokeThickness:4,dropShadow:!0,dropShadowColor:"#000000"}),t=new i.Text("$"+this.dllarsPerHour+"/hour",s);return t.y=526,t.x=this.app.view.width/2-t.width/2,this.container.addChild(t),t}onBuy(s){const t={app:this.app,container:this.bottomButtons[s],length:30,samplers:[{property:"scale",property_of_property:"x",inputs:[0,5,10],outputs:[1,.9,1]},{property:"scale",property_of_property:"y",inputs:[0,5,10],outputs:[1,.9,1]}]};new h(t).play_animation();let e=this.prices[this.buysArr[s]],i=this.buysArr[s];this.mainData.coins>=e&&i<5&&(this.mainData.coins-=e,this.stars[s][4-i].texture=this.resources["fStar"+(5-i)].texture,this.PerHour=this.dllarsPerHour+10,this.buysArr[s]++,this.bottomButtons[s].children[1].text=this.buysArr[s]+"/5",this.bottomButtons[s].children[2].text=this.prices[this.buysArr[s]],this.buysArr.every(s=>s>=5)&&this.buysArr.forEach((s,t)=>{this.buysArr[t]=0,this.PerHour=0,this.mainData.coins=0,this.removeAllStars()}))}set PerHour(s){this.dllarsPerHour=s,this.dollarsPerHourText.text="$"+this.dllarsPerHour+"/hour",this.dollarsPerHourText.x=this.app.view.width/2-this.dollarsPerHourText.width/2}removeAllStars(){this.stars.forEach((s,t)=>{console.log(this.buysArr),this.bottomButtons[t].children[1].text=this.buysArr[t]+"/5",s.forEach((s,t)=>{s.texture=this.resources["eStar"+(t+1)].texture})})}}class c{constructor(s,t){this.mainData=s,this.app=t,this.container=new i.Container,this.coinPanel=this.CreateCoinPanel(),this.starPanel=this.CreateStarPanel(),this.shieldsPanel=this.CreateShieldsPanel(),this.init()}init(){this.app.stage.addChild(this.container),this.app.ticker.add(this.updateCoins.bind(this))}updateCoins(){this.coinPanel.children[2].text=this.mainData.coins}CreateCoinPanel(){const s=new i.Container,t=new i.Sprite(this.app.loader.resources.coin.texture);t.x=40,t.y=60;const e=new i.Sprite(this.app.loader.resources.coinPanel.texture);e.x=56,e.y=59;let a=new i.TextStyle({fontFamily:"Roboto-Black",fontSize:64,fill:16777215,stroke:5971713,strokeThickness:4,dropShadow:!0,dropShadowColor:"#000000"}),r=new i.Text("",a);return r.x=210,r.y=70,s.addChild(e,t,r),this.container.addChild(s),s}CreateStarPanel(){const s=new i.Container,t=new i.Sprite(this.app.loader.resources.starUI.texture);t.x=1069,t.y=60;const e=new i.Sprite(this.app.loader.resources.starPanel.texture);e.x=1098,e.y=59;let a=new i.TextStyle({fontFamily:"Roboto-Black",fontSize:64,fill:16777215,stroke:5971713,strokeThickness:4,dropShadow:!0,dropShadowColor:"#000000"}),r=new i.Text("0",a);return r.x=1206,r.y=70,s.addChild(e,t,r),this.container.addChild(s),s}CreateShieldsPanel(){const s=new i.Container,t=new i.Sprite(this.app.loader.resources.shieldWood.texture),e=new i.Sprite(this.app.loader.resources.shieldSilver.texture),a=new i.Sprite(this.app.loader.resources.shieldGold.texture);return t.x=722,t.y=39,e.x=807,e.y=39,a.x=890,a.y=39,s.addChild(t,e,a),this.container.addChild(s),s}}class u{constructor(s){this.isPointerDown=!1,this.pointerDownY=0,this.currentScreen=0,this.mainData=s,this.canvas=document.getElementById("renderCanvas"),this.app=new i.Application({width:1440,height:3200,backgroundColor:1087931,resolution:window.devicePixelRatio||1}),this.loader=this.app.loader,this.loadAssets(),this.app.stage.interactive=!0,this.app.stage.hitArea=new i.Rectangle(0,0,1440,3200),this.app.stage.on("pointerdown",s=>{this.isPointerDown=!0,this.pointerDownY=s.data.global.y}),this.app.stage.on("pointerup",()=>{this.isPointerDown=!1}),this.gameContainer=new i.Container;const t={app:this.app,container:this.gameContainer,length:30,samplers:[{property:"position",property_of_property:"y",inputs:[0,30],outputs:[0,-3200]}]},e=new h(t),a={app:this.app,container:this.gameContainer,length:30,samplers:[{property:"position",property_of_property:"y",inputs:[0,30],outputs:[-3200,0]}]},r=new h(a);this.app.stage.on("pointermove",s=>{this.isPointerDown&&(1==this.currentScreen&&s.data.global.y>this.pointerDownY+300?(r.play_animation(),this.currentScreen=0):0==this.currentScreen&&s.data.global.y<this.pointerDownY-300&&(e.play_animation(),this.currentScreen=1))})}init(){var s;null===(s=this.canvas)||void 0===s||s.appendChild(this.app.view),this.app.stage.addChild(this.gameContainer),this.businessScreen=new o(this.mainData,this.app),this.gameContainer.addChild(this.businessScreen.container),this.businessScreen.container.y=3200,this.slotScreen=new d(this.mainData,this.app),this.gameContainer.addChild(this.slotScreen.container),this.UI=new c(this.mainData,this.app)}loadAssets(){this.loader.add("bBackground","assets/second-screen/bBackground.png").add("bBoard","assets/second-screen/board-coffee-house-wood.png").add("FFSuhmoPro-Black","assets/fonts/FFSuhmoPro/FFSuhmoPro-Black.otf").add("coin","assets/coin.png").add("coinPanel","assets/coinPanel.png").add("starUI","assets/starSlot.png").add("starPanel","assets/panelStar.png").add("shieldWood","assets/shieldWood.png").add("shieldSilver","assets/shieldSilver.png").add("shieldGold","assets/shieldGold.png").add("icon-clients","assets/second-screen/icon-clients.png").add("icon-coffee","assets/second-screen/icon-coffee.png").add("icon-flower","assets/second-screen/icon-flower.png").add("icon-media","assets/second-screen/icon-media.png").add("icon-power","assets/second-screen/icon-power.png").add("caffee","assets/second-screen/caffee.png").add("caffee_house_banner","assets/second-screen/caffee_house_banner.png").add("eStar1","assets/second-screen/eStar1.png").add("eStar2","assets/second-screen/eStar2.png").add("eStar3","assets/second-screen/eStar3.png").add("eStar4","assets/second-screen/eStar4.png").add("eStar5","assets/second-screen/eStar5.png").add("fStar1","assets/second-screen/fStar1.png").add("fStar2","assets/second-screen/fStar2.png").add("fStar3","assets/second-screen/fStar3.png").add("fStar4","assets/second-screen/fStar4.png").add("fStar5","assets/second-screen/fStar5.png").add("assets/slot_screen/hammer.png").add("assets/slot_screen/menu.png").add("assets/slot_screen/bg.png").add("assets/slot_screen/slot_machine.png").add("assets/slot_screen/spin.png").add("assets/slot_screen/overlay.png").add("assets/slot_screen/symbols.json"),this.loader.onComplete.add(this.init.bind(this)),this.loader.onError.add(s=>{console.log(s)}),this.loader.load()}}function p(){new u({coins:4e4,stars:0})}"loading"!==document.readyState?p():document.addEventListener("DOMContentLoaded",p)}]);